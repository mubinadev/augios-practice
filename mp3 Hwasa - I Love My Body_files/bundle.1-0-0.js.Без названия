!function(){"use strict";function e(){}function t(e){return e()}function i(){return Object.create(null)}function n(e){e.forEach(t)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l,r;function d(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function a(e){return null==e?"":e}function c(e,t){e.appendChild(t)}function u(e,t,i){e.insertBefore(t,i||null)}function f(e){e.parentNode.removeChild(e)}function m(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function p(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function h(){return g(" ")}function $(){return g("")}function b(e,t,i,n){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}function w(e,t,i){null==i?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e){r=e}function y(){if(!r)throw new Error("Function called outside component initialization");return r}function v(e){y().$$.on_mount.push(e)}function k(){const e=y();return(t,i,{cancelable:n=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=function(e,t,{bubbles:i=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i,n,t),s}(t,i,{cancelable:n});return s.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}const T=[],M=[],W=[],H=[],q=Promise.resolve();let L=!1;function E(e){W.push(e)}const j=new Set;let z=0;function S(){const e=r;do{for(;z<T.length;){const e=T[z];z++,_(e),I(e.$$)}for(_(null),T.length=0,z=0;M.length;)M.pop()();for(let e=0;e<W.length;e+=1){const t=W[e];j.has(t)||(j.add(t),t())}W.length=0}while(T.length);for(;H.length;)H.pop()();L=!1,j.clear(),_(e)}function I(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(E)}}const O=new Set;let B;function V(){B={r:0,c:[],p:B}}function C(){B.r||n(B.c),B=B.p}function A(e,t){e&&e.i&&(O.delete(e),e.i(t))}function P(e,t,i,n){if(e&&e.o){if(O.has(e))return;O.add(e),B.c.push((()=>{O.delete(e),n&&(i&&e.d(1),n())})),e.o(t)}else n&&n()}function N(e){e&&e.c()}function R(e,i,o,l){const{fragment:r,after_update:d}=e.$$;r&&r.m(i,o),l||E((()=>{const i=e.$$.on_mount.map(t).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...i):n(i),e.$$.on_mount=[]})),d.forEach(E)}function X(e,t){const i=e.$$;null!==i.fragment&&(n(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Y(e,t){-1===e.$$.dirty[0]&&(T.push(e),L||(L=!0,q.then(S)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function D(t,s,o,l,d,a,c,u=[-1]){const m=r;_(t);const p=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:d,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(m?m.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:s.target||m.$$.root};c&&c(p.root);let g=!1;if(p.ctx=o?o(t,s.props||{},((e,i,...n)=>{const s=n.length?n[0]:i;return p.ctx&&d(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),g&&Y(t,e)),i})):[],p.update(),g=!0,n(p.before_update),p.fragment=!!l&&l(p.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();s.intro&&A(t.$$.fragment),R(t,s.target,s.anchor,s.customElement),S()}_(m)}class F{$destroy(){X(this,1),this.$destroy=e}$on(t,i){if(!s(i))return e;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const e=n.indexOf(i);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function J(e){let t,i,n;return{c(){t=p("img"),w(t,"class","slide__image svelte-1qoqqga"),w(t,"style",e[5]),d(t.src,i=e[1].image)||w(t,"src",i),w(t,"alt",n=e[1].text),w(t,"loading","lazy")},m(e,i){u(e,t,i)},p(e,s){32&s&&w(t,"style",e[5]),2&s&&!d(t.src,i=e[1].image)&&w(t,"src",i),2&s&&n!==(n=e[1].text)&&w(t,"alt",n)},d(e){e&&f(t)}}}function K(e){let t,i,n,s,o;return{c(){t=p("div"),i=p("img"),w(i,"class","slide__image svelte-1qoqqga"),w(i,"style",n=`${e[5]}border-radius: 10px 10px 0px 0px;`),d(i.src,s=e[1].image)||w(i,"src",s),w(i,"alt",o=e[1].text),w(i,"loading","lazy"),w(t,"class","slide__wrapper_desc svelte-1qoqqga")},m(e,n){u(e,t,n),c(t,i)},p(e,t){32&t&&n!==(n=`${e[5]}border-radius: 10px 10px 0px 0px;`)&&w(i,"style",n),2&t&&!d(i.src,s=e[1].image)&&w(i,"src",s),2&t&&o!==(o=e[1].text)&&w(i,"alt",o)},d(e){e&&f(t)}}}function G(e){let t,i,n,s;return{c(){t=p("div"),i=p("img"),w(i,"class","slide__image svelte-1qoqqga"),w(i,"style",e[5]),d(i.src,n=e[1].image)||w(i,"src",n),w(i,"alt",s=e[1].text),w(i,"loading","lazy"),w(t,"class","slide__wrapper svelte-1qoqqga")},m(e,n){u(e,t,n),c(t,i)},p(e,t){32&t&&w(i,"style",e[5]),2&t&&!d(i.src,n=e[1].image)&&w(i,"src",n),2&t&&s!==(s=e[1].text)&&w(i,"alt",s)},d(e){e&&f(t)}}}function Q(e){let t,i,n,s=e[1].text+"";return{c(){t=p("span"),i=g(s),w(t,"class",n=a(e[0])+" svelte-1qoqqga")},m(e,n){u(e,t,n),c(t,i)},p(e,o){2&o&&s!==(s=e[1].text+"")&&x(i,s),1&o&&n!==(n=a(e[0])+" svelte-1qoqqga")&&w(t,"class",n)},d(e){e&&f(t)}}}function U(t){let i,n,s,o,l;function r(e,t){return!e[4]||"flex"!==e[3]&&"2x3"!==e[3]&&"1x3"!==e[3]&&"1x3_top"!==e[3]?"classic_flex"===e[0]?K:J:G}let d=r(t),a=d(t),m="long"!==t[0]&&Q(t);return{c(){i=p("a"),a.c(),n=h(),m&&m.c(),w(i,"class","slide svelte-1qoqqga"),w(i,"style",t[6]),w(i,"href",s=`${t[1].url}?bid=${t[2]}&utm_source=${t[7]}`),w(i,"target","_black")},m(e,s){u(e,i,s),a.m(i,null),c(i,n),m&&m.m(i,null),o||(l=b(i,"click",t[8]),o=!0)},p(e,[t]){d===(d=r(e))&&a?a.p(e,t):(a.d(1),a=d(e),a&&(a.c(),a.m(i,n))),"long"!==e[0]?m?m.p(e,t):(m=Q(e),m.c(),m.m(i,null)):m&&(m.d(1),m=null),64&t&&w(i,"style",e[6]),6&t&&s!==(s=`${e[1].url}?bid=${e[2]}&utm_source=${e[7]}`)&&w(i,"href",s)},i:e,o:e,d(e){e&&f(i),a.d(),m&&m.d(),o=!1,l()}}}function Z(e,t,i){let{slide:n}=t,{mode:s}=t,{size:o}=t,{bid:l}=t,{mobileMode:r}=t,{isMobile:d}=t;const a=k();"overlay"==s&&(s="overlay_custom");let c=!1;const u=window.location.hostname;let f,m;const p="\n        position:absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width:100%;\n        height:100%;\n        ";return e.$$set=e=>{"slide"in e&&i(1,n=e.slide),"mode"in e&&i(0,s=e.mode),"size"in e&&i(9,o=e.size),"bid"in e&&i(2,l=e.bid),"mobileMode"in e&&i(3,r=e.mobileMode),"isMobile"in e&&i(4,d=e.isMobile)},e.$$.update=()=>{2&e.$$.dirty&&(n.isVisible,function(){if(n.isVisible&&!c){let e=window.localStorage.getItem(l);e&&e.length?(e=e.split(","),e.push(n.id),e=e.join(","),window.localStorage.setItem(l,e)):window.localStorage.setItem(l,n.id),fetch(`https://setka.media/external/teaser-view?tid=${n.id}&bid=${l}`),c=!0}}()),537&e.$$.dirty&&(d?(console.log("change",d),r?"flex"===r||"2x3"===r?(i(5,f=p),i(6,m="width:100%")):"overlay_flex"===s&&(i(6,m="width:100%;"),i(5,f=p)):(i(5,f=`width: ${o.slideWidth}px; height: ${o.slideHeight}px;`),i(6,m=`width: ${o.slideWidth}px;`))):"overlay_top"===s?i(5,f=`width: 100%; height: ${o.slideHeight}px;`):"overlay_flex"===s?(i(6,m="width: 100%; padding-top:75%;"),i(5,f=p)):"classic_flex"===s?(i(6,m="width: 100%;"),i(5,f=p)):(i(5,f=`width: ${o.slideWidth}px; height: ${o.slideHeight}px;`),i(6,m=`width: ${o.slideWidth}px;`)))},[s,n,l,r,d,f,m,u,function(){fetch(`https://setka.media/external/teaser-click?tid=${n.id}&bid=${l}`).then((()=>{a("changeSlide",{id:n.id})}))},o]}class ee extends F{constructor(e){super(),D(this,e,Z,U,o,{slide:1,mode:0,size:9,bid:2,mobileMode:3,isMobile:4})}}function te(t){let i;return{c(){i=p("div"),i.innerHTML='<img src="https://setka.media/images/favicon/logo.png" class="svelte-cdaz5f"/> \n\t<span>Рекомендации</span> \n\t<a class="setka-header__link svelte-cdaz5f" href="https://setka.media" target="_blank" rel="noopener noreferrer">setka.media</a>',w(i,"class","setka-header svelte-cdaz5f")},m(e,t){u(e,i,t)},p:e,i:e,o:e,d(e){e&&f(i)}}}class ie extends F{constructor(e){super(),D(this,e,null,te,o,{})}}function ne(e){const t=window.pageYOffset+e.getBoundingClientRect().top,i=window.pageXOffset+e.getBoundingClientRect().left,n=window.pageXOffset+e.getBoundingClientRect().right,s=window.pageYOffset+e.getBoundingClientRect().bottom,o=window.pageYOffset,l=window.pageXOffset,r=window.pageXOffset+document.documentElement.clientWidth,d=window.pageYOffset+document.documentElement.clientHeight;return s>o&&t<d&&n>l&&i<r}function se(e,t,i){const n=e.slice();return n[24]=t[i],n}function oe(e){let t,i;return t=new ie({}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function le(t){let i,n,s;return{c(){i=p("div"),i.innerHTML='<svg width="25" height="25"><polygon points="0,12 25,25 25,0" fill="#888" stroke="#666" stroke-width="1"></polygon></svg>',w(i,"class","classic-slider__arrow classic-slider__arrow_left svelte-pj6ugg")},m(e,o){u(e,i,o),n||(s=b(i,"click",t[13]),n=!0)},p:e,d(e){e&&f(i),n=!1,s()}}}function re(t){let i,n,s;return{c(){i=p("div"),i.innerHTML='<svg width="25" height="25"><polygon points="0,25 25,12 0,0" fill="#888" stroke="#666" stroke-width="1"></polygon></svg>',w(i,"class","classic-slider__arrow classic-slider__arrow_right svelte-pj6ugg")},m(e,o){u(e,i,o),n||(s=b(i,"click",t[12]),n=!0)},p:e,d(e){e&&f(i),n=!1,s()}}}function de(e){let t,i,n,s;return i=new ee({props:{mode:e[2],slide:e[24],size:{slideWidth:e[1],slideHeight:e[3]},bid:e[4]}}),i.$on("changeSlide",e[15]),{c(){t=p("div"),N(i.$$.fragment),n=h(),w(t,"class","slider__item svelte-pj6ugg")},m(e,o){u(e,t,o),R(i,t,null),c(t,n),s=!0},p(e,t){const n={};4&t&&(n.mode=e[2]),1&t&&(n.slide=e[24]),10&t&&(n.size={slideWidth:e[1],slideHeight:e[3]}),16&t&&(n.bid=e[4]),i.$set(n)},i(e){s||(A(i.$$.fragment,e),s=!0)},o(e){P(i.$$.fragment,e),s=!1},d(e){e&&f(t),X(i)}}}function ae(e){let t,i,s,o,l,r,d,g,$,x,_=1==e[6]&&oe(),y=0==e[8]&&!e[10]&&le(e),v=0==e[9]&&!e[10]&&re(e),k=e[0],T=[];for(let t=0;t<k.length;t+=1)T[t]=de(se(e,k,t));const M=e=>P(T[e],1,1,(()=>{T[e]=null}));return{c(){t=p("div"),_&&_.c(),i=h(),s=p("div"),y&&y.c(),o=h(),v&&v.c(),l=h(),r=p("div");for(let e=0;e<T.length;e+=1)T[e].c();w(r,"class",d=a(e[5])+" svelte-pj6ugg"),w(s,"class","classic-slider__interface svelte-pj6ugg"),w(t,"class","classic-slider svelte-pj6ugg")},m(n,d){u(n,t,d),_&&_.m(t,null),c(t,i),c(t,s),y&&y.m(s,null),c(s,o),v&&v.m(s,null),c(s,l),c(s,r);for(let e=0;e<T.length;e+=1)T[e].m(r,null);e[18](r),g=!0,$||(x=[b(window,"scroll",e[14]),b(r,"scroll",e[11])],$=!0)},p(e,[n]){if(1==e[6]?_?64&n&&A(_,1):(_=oe(),_.c(),A(_,1),_.m(t,i)):_&&(V(),P(_,1,1,(()=>{_=null})),C()),0!=e[8]||e[10]?y&&(y.d(1),y=null):y?y.p(e,n):(y=le(e),y.c(),y.m(s,o)),0!=e[9]||e[10]?v&&(v.d(1),v=null):v?v.p(e,n):(v=re(e),v.c(),v.m(s,l)),32799&n){let t;for(k=e[0],t=0;t<k.length;t+=1){const i=se(e,k,t);T[t]?(T[t].p(i,n),A(T[t],1)):(T[t]=de(i),T[t].c(),A(T[t],1),T[t].m(r,null))}for(V(),t=k.length;t<T.length;t+=1)M(t);C()}(!g||32&n&&d!==(d=a(e[5])+" svelte-pj6ugg"))&&w(r,"class",d)},i(e){if(!g){A(_);for(let e=0;e<k.length;e+=1)A(T[e]);g=!0}},o(e){P(_),T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)P(T[e]);g=!1},d(i){i&&f(t),_&&_.d(),y&&y.d(),v&&v.d(),m(T,i),e[18](null),$=!1,n(x)}}}function ce(e,t,i){let n,s,o,l,{tiserList:r}=t,{mode:d}=t,{slideWidth:a}=t,{slideHeight:c}=t,{bid:u}=t,{type:f}=t,{spareTeasers:m}=t,{signature_show:p}=t,g=!0,h=!1,$=!1,b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent),w=!1;return v((()=>{i(17,w=ne(n)),s=n.offsetWidth,s>r.length*a&&i(9,h=!0),"long"===d&&i(1,a=n.clientWidth)})),e.$$set=e=>{"tiserList"in e&&i(0,r=e.tiserList),"mode"in e&&i(2,d=e.mode),"slideWidth"in e&&i(1,a=e.slideWidth),"slideHeight"in e&&i(3,c=e.slideHeight),"bid"in e&&i(4,u=e.bid),"type"in e&&i(5,f=e.type),"spareTeasers"in e&&i(16,m=e.spareTeasers),"signature_show"in e&&i(6,p=e.signature_show)},e.$$.update=()=>{131072&e.$$.dirty&&function(){if(w){$||(fetch(`https://setka.media/external/block-view?bid=${u}`),$=!0),l=Math.trunc(s/(a+16)),o=s%(a+16);for(let e=0;e<l;e++)e<r.length&&i(0,r[e].isVisible=!0,r)}}()},[r,a,d,c,u,f,p,n,g,h,b,function(){const e=(n.scrollLeft+o)/(a+16),t=Math.trunc(l+e);for(let e=l-1;e<t;e++)i(0,r[e].isVisible=!0,r);if(0===n.scrollLeft)i(8,g=!0);else if(n.scrollWidth-n.scrollLeft-5<=n.clientWidth){console.log("right side"),i(8,g=!1),i(9,h=!0);for(let e=l-1;e<r.length;e++)i(0,r[e].isVisible=!0,r)}else i(8,g=!1),i(9,h=!1)},()=>{n.scrollBy(a,0)},()=>{n.scrollBy(-a,0)},function(){ne(n)&&!0!==w&&i(17,w=!0)},function(e){const t=e.detail.id,n=r.findIndex((e=>e.id===t));if(m.length){const e=m.pop();e.isVisible=!0,i(0,r[n]=e,r)}},m,w,function(e){M[e?"unshift":"push"]((()=>{n=e,i(7,n)}))}]}class ue extends F{constructor(e){super(),D(this,e,ce,ae,o,{tiserList:0,mode:2,slideWidth:1,slideHeight:3,bid:4,type:5,spareTeasers:16,signature_show:6})}}function fe(e){let t,i,n;return{c(){t=p("img"),w(t,"class","stripe__image svelte-okmukh"),d(t.src,i=e[0].image)||w(t,"src",i),w(t,"alt",n=e[0].text),w(t,"loading","lazy")},m(e,i){u(e,t,i)},p(e,s){1&s&&!d(t.src,i=e[0].image)&&w(t,"src",i),1&s&&n!==(n=e[0].text)&&w(t,"alt",n)},d(e){e&&f(t)}}}function me(t){let i,n,s,o,l,r,d,m,$=t[0].text+"",_="no-image"!=t[2]&&fe(t);return{c(){i=p("a"),_&&_.c(),n=h(),s=p("div"),o=g($),w(s,"class","stripe__text custon__text svelte-okmukh"),w(i,"class",l=a("no-image"!=t[2]?"stripe":"stripe stripe--no-image")+" svelte-okmukh"),w(i,"href",r=`${t[0].url}?bid=${t[1]}&utm_source=${t[3]}`),w(i,"target","_black")},m(e,l){u(e,i,l),_&&_.m(i,null),c(i,n),c(i,s),c(s,o),d||(m=b(i,"click",t[4]),d=!0)},p(e,[t]){"no-image"!=e[2]?_?_.p(e,t):(_=fe(e),_.c(),_.m(i,n)):_&&(_.d(1),_=null),1&t&&$!==($=e[0].text+"")&&x(o,$),4&t&&l!==(l=a("no-image"!=e[2]?"stripe":"stripe stripe--no-image")+" svelte-okmukh")&&w(i,"class",l),3&t&&r!==(r=`${e[0].url}?bid=${e[1]}&utm_source=${e[3]}`)&&w(i,"href",r)},i:e,o:e,d(e){e&&f(i),_&&_.d(),d=!1,m()}}}function pe(e,t,i){let{data:n}=t,{bid:s}=t,{spareTeasers:o}=t,{mode:l}=t,r=!1;const d=window.location.hostname;return e.$$set=e=>{"data"in e&&i(0,n=e.data),"bid"in e&&i(1,s=e.bid),"spareTeasers"in e&&i(5,o=e.spareTeasers),"mode"in e&&i(2,l=e.mode)},e.$$.update=()=>{1&e.$$.dirty&&(n.isVisible,function(){if(n.isVisible&&!r){let e=window.localStorage.getItem(s);e&&e.length?(e=e.split(","),e.push(n.id),e=e.join(","),window.localStorage.setItem(s,e)):window.localStorage.setItem(s,n.id),fetch(`https://setka.media/external/teaser-view?tid=${n.id}&bid=${s}`),r=!0}}())},[n,s,l,d,function(){fetch(`https://setka.media/external/teaser-click?tid=${n.id}&bid=${s}`).then((()=>{o.length&&(i(0,n=o.pop()),r=!1,i(0,n.isVisible=!0,n))}))},o]}class ge extends F{constructor(e){super(),D(this,e,pe,me,o,{data:0,bid:1,spareTeasers:5,mode:2})}}function he(e,t,i){const n=e.slice();return n[16]=t[i],n[18]=i,n}function $e(e){let t,i;return t=new ee({props:{spareTeasers:e[7],mobileMode:e[3],isMobile:e[9],bid:e[6],mode:e[2],size:{slideWidth:e[4],slideHeight:e[5]},slide:e[16]}}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},p(e,i){const n={};128&i&&(n.spareTeasers=e[7]),8&i&&(n.mobileMode=e[3]),512&i&&(n.isMobile=e[9]),64&i&&(n.bid=e[6]),4&i&&(n.mode=e[2]),48&i&&(n.size={slideWidth:e[4],slideHeight:e[5]}),2&i&&(n.slide=e[16]),t.$set(n)},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function be(e){let t,i;return t=new ge({props:{spareTeasers:e[7],data:e[16],bid:e[6],mode:e[2]}}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},p(e,i){const n={};128&i&&(n.spareTeasers=e[7]),2&i&&(n.data=e[16]),64&i&&(n.bid=e[6]),4&i&&(n.mode=e[2]),t.$set(n)},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function we(e){let t,i;return t=new ge({props:{spareTeasers:e[7],data:e[16],bid:e[6]}}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},p(e,i){const n={};128&i&&(n.spareTeasers=e[7]),2&i&&(n.data=e[16]),64&i&&(n.bid=e[6]),t.$set(n)},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function xe(e){let t,i,n,s;const o=[ye,_e],l=[];return t=function(e,t){return 0==e[18]?0:1}(e),i=l[t]=o[t](e),{c(){i.c(),n=$()},m(e,i){l[t].m(e,i),u(e,n,i),s=!0},p(e,t){i.p(e,t)},i(e){s||(A(i),s=!0)},o(e){P(i),s=!1},d(e){l[t].d(e),e&&f(n)}}}function _e(e){let t,i;return t=new ge({props:{spareTeasers:e[7],data:e[16],bid:e[6]}}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},p(e,i){const n={};128&i&&(n.spareTeasers=e[7]),2&i&&(n.data=e[16]),64&i&&(n.bid=e[6]),t.$set(n)},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function ye(e){let t,i;return t=new ee({props:{spareTeasers:e[7],mobileMode:e[3],isMobile:e[9],bid:e[6],mode:e[2],size:{slideWidth:e[4],slideHeight:e[5]},slide:e[16]}}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},p(e,i){const n={};128&i&&(n.spareTeasers=e[7]),8&i&&(n.mobileMode=e[3]),512&i&&(n.isMobile=e[9]),64&i&&(n.bid=e[6]),4&i&&(n.mode=e[2]),48&i&&(n.size={slideWidth:e[4],slideHeight:e[5]}),2&i&&(n.slide=e[16]),t.$set(n)},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function ve(e){let t,i,n,s;const o=[xe,we,be,$e],l=[];function r(e,t){return"matrix_1x3_top"==e[0]?0:"matrix_1x3_stripe"==e[0]&&"no-image"!==e[2]?1:"no-image"==e[2]?2:3}return t=r(e),i=l[t]=o[t](e),{c(){i.c(),n=$()},m(e,i){l[t].m(e,i),u(e,n,i),s=!0},p(e,s){let d=t;t=r(e),t===d?l[t].p(e,s):(V(),P(l[d],1,1,(()=>{l[d]=null})),C(),i=l[t],i?i.p(e,s):(i=l[t]=o[t](e),i.c()),A(i,1),i.m(n.parentNode,n))},i(e){s||(A(i),s=!0)},o(e){P(i),s=!1},d(e){l[t].d(e),e&&f(n)}}}function ke(e){let t,i,n,s,o,l,r=e[1],d=[];for(let t=0;t<r.length;t+=1)d[t]=ve(he(e,r,t));const g=e=>P(d[e],1,1,(()=>{d[e]=null}));return{c(){t=p("div"),i=p("div");for(let e=0;e<d.length;e+=1)d[e].c();w(i,"class",n=a("matrix__list "+e[0])+" svelte-5lxbeu"),w(t,"class",a("matrix")+" svelte-5lxbeu")},m(n,r){u(n,t,r),c(t,i);for(let e=0;e<d.length;e+=1)d[e].m(i,null);e[12](t),s=!0,o||(l=b(window,"scroll",e[10]),o=!0)},p(e,[t]){if(767&t){let n;for(r=e[1],n=0;n<r.length;n+=1){const s=he(e,r,n);d[n]?(d[n].p(s,t),A(d[n],1)):(d[n]=ve(s),d[n].c(),A(d[n],1),d[n].m(i,null))}for(V(),n=r.length;n<d.length;n+=1)g(n);C()}(!s||1&t&&n!==(n=a("matrix__list "+e[0])+" svelte-5lxbeu"))&&w(i,"class",n)},i(e){if(!s){for(let e=0;e<r.length;e+=1)A(d[e]);s=!0}},o(e){d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)P(d[e]);s=!1},d(i){i&&f(t),m(d,i),e[12](null),o=!1,l()}}}function Te(e,t,i){let n,{type:s}=t,{tiserList:o}=t,{mode:l}=t,{slideWidth:r}=t,{slideHeight:d}=t,{bid:a}=t,{mobileMode:c}=t,{spareTeasers:u}=t,f=!1,m=!1,p=!1,g=900;return"matrix_2x2"!==s&&"matrix_1x3"!==s||(g=500),"matrix_3x1"!==s&&"matrix_3x2"!==s||(g=700),"matrix_4x1"!==s&&"matrix_4x2"!==s||(g=800),v((function(){i(11,f=ne(n)),i(9,m=n.parentElement.clientWidth<=g),m&&"stripe"===c&&i(0,s="matrix_1x3_stripe"),m&&"flex"===c&&(i(0,s="matrix_1x3"),i(2,l="overlay_flex")),m&&"2x3"===c&&(i(0,s="matrix_2x2"),i(2,l="classic")),m&&"1x3"===c&&i(0,s="matrix_1x3"),m&&"1x3_top"===c&&(i(0,s="matrix_1x3_top"),i(3,c="flex"))})),e.$$set=e=>{"type"in e&&i(0,s=e.type),"tiserList"in e&&i(1,o=e.tiserList),"mode"in e&&i(2,l=e.mode),"slideWidth"in e&&i(4,r=e.slideWidth),"slideHeight"in e&&i(5,d=e.slideHeight),"bid"in e&&i(6,a=e.bid),"mobileMode"in e&&i(3,c=e.mobileMode),"spareTeasers"in e&&i(7,u=e.spareTeasers)},e.$$.update=()=>{2048&e.$$.dirty&&f&&(p||(fetch(`https://setka.media/external/block-view?bid=${a}`),p=!0),o.forEach((e=>{e.isVisible=!0})),i(1,o))},[s,o,l,c,r,d,a,u,n,m,function(){ne(n)&&!0!==f&&i(11,f=!0)},f,function(e){M[e?"unshift":"push"]((()=>{n=e,i(8,n)}))}]}class Me extends F{constructor(e){super(),D(this,e,Te,ke,o,{type:0,tiserList:1,mode:2,slideWidth:4,slideHeight:5,bid:6,mobileMode:3,spareTeasers:7})}}function We(e){let t,i;return t=new ue({props:{signature_show:e[8],type:e[2],mode:e[3],spareTeasers:e[1],tiserList:e[0],slideWidth:e[5],slideHeight:e[6],bid:e[4]}}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},p(e,i){const n={};256&i&&(n.signature_show=e[8]),4&i&&(n.type=e[2]),8&i&&(n.mode=e[3]),2&i&&(n.spareTeasers=e[1]),1&i&&(n.tiserList=e[0]),32&i&&(n.slideWidth=e[5]),64&i&&(n.slideHeight=e[6]),16&i&&(n.bid=e[4]),t.$set(n)},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function He(e){let t,i;return t=new Me({props:{spareTeasers:e[1],mobileMode:e[7],bid:e[4],mode:e[3],tiserList:e[0],type:e[2],slideWidth:e[5],slideHeight:e[6]}}),{c(){N(t.$$.fragment)},m(e,n){R(t,e,n),i=!0},p(e,i){const n={};2&i&&(n.spareTeasers=e[1]),128&i&&(n.mobileMode=e[7]),16&i&&(n.bid=e[4]),8&i&&(n.mode=e[3]),1&i&&(n.tiserList=e[0]),4&i&&(n.type=e[2]),32&i&&(n.slideWidth=e[5]),64&i&&(n.slideHeight=e[6]),t.$set(n)},i(e){i||(A(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){X(t,e)}}}function qe(e){let t,i,n,s=!0===e[10]&&We(e),o=!0===e[9]&&He(e);return{c(){t=p("div"),s&&s.c(),i=h(),o&&o.c(),w(t,"class","main-setka svelte-t2ci3k")},m(e,l){u(e,t,l),s&&s.m(t,null),c(t,i),o&&o.m(t,null),n=!0},p(e,[n]){!0===e[10]?s?(s.p(e,n),1024&n&&A(s,1)):(s=We(e),s.c(),A(s,1),s.m(t,i)):s&&(V(),P(s,1,1,(()=>{s=null})),C()),!0===e[9]?o?(o.p(e,n),512&n&&A(o,1)):(o=He(e),o.c(),A(o,1),o.m(t,null)):o&&(V(),P(o,1,1,(()=>{o=null})),C())},i(e){n||(A(s),A(o),n=!0)},o(e){P(s),P(o),n=!1},d(e){e&&f(t),s&&s.d(),o&&o.d()}}}function Le(e,t,i){let{tiserList:n}=t,{spareTeasers:s}=t,{type:o}=t,{mode:l}=t,{bid:r}=t,{slideWidth:d}=t,{slideHeight:a}=t,{mobileMode:c="stripe"}=t,{signature_show:u}=t,f=!1,m=!1;return v((()=>{i(9,f=-1!==o.indexOf("matrix")),i(10,m=-1!==o.indexOf("slider"))})),e.$$set=e=>{"tiserList"in e&&i(0,n=e.tiserList),"spareTeasers"in e&&i(1,s=e.spareTeasers),"type"in e&&i(2,o=e.type),"mode"in e&&i(3,l=e.mode),"bid"in e&&i(4,r=e.bid),"slideWidth"in e&&i(5,d=e.slideWidth),"slideHeight"in e&&i(6,a=e.slideHeight),"mobileMode"in e&&i(7,c=e.mobileMode),"signature_show"in e&&i(8,u=e.signature_show)},[n,s,o,l,r,d,a,c,u,f,m]}class Ee extends F{constructor(e){super(),D(this,e,Le,qe,o,{tiserList:0,spareTeasers:1,type:2,mode:3,bid:4,slideWidth:5,slideHeight:6,mobileMode:7,signature_show:8})}}function je(e){(async function(e,t){const{viewed:i,bid:n}=t;return fetch(e,{method:"post",body:JSON.stringify({bid:n,viewed:i.length>0?i.split(","):[]}),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((e=>e.json()))})("https://setka.media/rotator",{viewed:localStorage.getItem(e.bid)??[],bid:e.bid}).then((async({teasers:t,bench:i,count:n=10})=>{if(!t.length)return;t=t.filter((e=>void 0!==e.text));let s=i;t.forEach((e=>{e.isVisible=!1}));const o=document.querySelectorAll(e.blockid);console.log(e.bid);const l=o.length;for(;t.length<n*l;){const e=[...t];t=[...t,...e]}o.forEach(((i,o)=>{i.innerHTML="";const l=t.slice(o*n,o*n+n),r={signature_show:e.params.signature_show??!0,type:e.params.type,mode:e.params.mod,mobileMode:e.params.mobileMode,tiserList:l,spareTeasers:s,bid:e.bid,slideWidth:e.params.slideWidth??300,slideHeight:e.params.slideHeight??300};new Ee({target:i,props:r})}))})).catch((e=>{console.error("Setka is broken")}))}!function(){if(!function(){let e=!1;return window.setkaIsInitTime?(console.log((new Date).getTime()-window.setkaIsInitTime),e=(new Date).getTime()-window.setkaIsInitTime>3e3):(window.setkaIsInitTime=(new Date).getTime(),e=!0),e}())return;const e=document.querySelectorAll(".js-setka-media");if(e.length){const t=function(e){const t=new Set;return e.forEach((e=>{t.add(Number(e.dataset.bid))})),t}(e);t.forEach((async e=>{je({bid:e,blockid:`.js-setka-media[data-bid="${e}"]`,params:await await async function(e,t){return fetch(e,{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((e=>e.json()))}("https://setka.media/external/rotator-view?bid="+e)})}))}}()}();
//# sourceMappingURL=bundle.1-0-0.js.map
