!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/packs/",n(n.s=144)}({0:function(t,e,n){"use strict";e.a=function(t){return{method:t,headers:{"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"application/json",Accept:"application/json",Referer:window.location.href}}}},1:function(t,e,n){"use strict";function o(t){for(var e=document.cookie.split("; "),n=e.length,o=0;o<n;o++){var i=e[o].split("=");if(i.shift()===t)return decodeURIComponent(i.join("="))}}function i(t,e,n){var o="";for(var i in n)o=o+i+"="+n[i]+"; ";document.cookie="".concat(t,"=").concat(e,"; ").concat(n)}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}))},144:function(t,n,o){"use strict";function i(){}o.r(n);function c(t){return t()}function r(){return Object.create(null)}function l(t){t.forEach(c)}function s(t){return"function"===typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"===typeof t||"function"===typeof t}let u;function d(t){return 0===Object.keys(t).length}new Set;let f=!1;function p(){f=!0}function m(){f=!1}function h(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function $(){return b(" ")}function w(){return b("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function k(t){return function(e){return e.preventDefault(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function S(t,e){t.value=null==e?"":e}function T(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function A(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}new Map;let O;function I(t){O=t}function M(){if(!O)throw new Error("Function called outside component initialization");return O}const B=[],L=[],q=[],D=[],H=Promise.resolve();let N=!1;function P(){N||(N=!0,H.then(R))}function V(t){q.push(t)}const F=new Set;let z=0;function R(){const t=O;do{for(;z<B.length;){const t=B[z];z++,I(t),U(t.$$)}for(I(null),B.length=0,z=0;L.length;)L.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];F.has(e)||(F.add(e),e())}q.length=0}while(B.length);for(;D.length;)D.pop()();N=!1,F.clear(),I(t)}function U(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}const X=new Set;let G;function Z(){G={r:0,c:[],p:G}}function Y(){G.r||l(G.c),G=G.p}function J(t,e){t&&t.i&&(X.delete(t),t.i(e))}function K(t,e,n,o){if(t&&t.o){if(X.has(t))return;X.add(t),G.c.push((()=>{X.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}"undefined"!==typeof window?window:"undefined"!==typeof globalThis?globalThis:global;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let Q;function W(t){t&&t.c()}function tt(t,e,n,o){const i=t.$$,r=i.fragment,a=i.after_update;r&&r.m(e,n),o||V((()=>{const e=t.$$.on_mount.map(c).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):l(e),t.$$.on_mount=[]})),a.forEach(V)}function et(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(B.push(t),P(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(t,e,n,o,c,s,a){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const d=O;I(t);const f=t.$$={fragment:null,ctx:[],props:s,update:i,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};a&&a(f.root);let h=!1;if(f.ctx=n?n(t,e.props||{},(function(e,n){const o=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),h&&nt(t,e)),n})):[],f.update(),h=!0,l(f.before_update),f.fragment=!!o&&o(f.ctx),e.target){if(e.hydrate){p();const t=E(e.target);f.fragment&&f.fragment.l(t),t.forEach(g)}else f.fragment&&f.fragment.c();e.intro&&J(t.$$.fragment),tt(t,e.target,e.anchor,e.customElement),m(),R()}I(d)}"function"===typeof HTMLElement&&(Q=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const t=this.$$.on_mount;this.$$.on_disconnect=t.map(c).filter(s);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){l(this.$$.on_disconnect)}$destroy(){et(this,1),this.$destroy=i}$on(t,e){if(!s(e))return i;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!d(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class it{$destroy(){et(this,1),this.$destroy=i}$on(t,e){if(!s(e))return i;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!d(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var ct=o(0);function rt(t){let e,n,o,c,r,l,s,a;return{c(){var i,s;e=y("div"),n=y("a"),o=y("img"),r=$(),l=y("button"),l.innerHTML='<svg width="68" height="48" viewBox="0 0 68 48"><path class="video__button-shape" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z"></path><path class="video__button-icon" d="M 45,24 27,14 27,34"></path></svg>',i=o.src,s=c=t[0],u||(u=document.createElement("a")),u.href=s,i!==u.href&&C(o,"src",c),C(o,"alt",""),C(o,"class","card-item__img"),T(o,"height","100%"),C(n,"ref","link"),C(n,"href",t[1]),C(n,"class","video__link"),C(n,"target","_blank"),C(l,"ref","button"),C(l,"class","video__button"),C(l,"aria-label","\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e"),T(l,"display","flex"),C(e,"class","video"),T(e,"margin-bottom","15px")},m(i,c){v(i,e,c),h(e,n),h(n,o),h(e,r),h(e,l),s||(a=x(e,"click",k(t[2])),s=!0)},p:i,i:i,o:i,d(t){t&&g(e),s=!1,a()}}}function lt(t,e,n){let{video:o}=e,i=`https://i.ytimg.com/vi/${o.video_id}/mqdefault.jpg`,c=`https://www.youtube.com/watch?time_continue=1&v=${o.video_id}`;return t.$$set=t=>{"video"in t&&n(3,o=t.video)},[i,c,function(){this.querySelector(".video__link").remove(),this.querySelector(".video__button").remove(),this.append(function(t){let e=document.createElement("iframe");return e.setAttribute("allowfullscreen",""),e.setAttribute("src",function(t){return"https://www.youtube.com/embed/"+t+"?rel=0&showinfo=0&autoplay=1"}(t)),e.classList.add("video__media"),console.log(e),e}(o.video_id))},o]}var st=class extends it{constructor(t){super(),ot(this,t,lt,rt,a,{video:3})}};function at(t,e,n){const o=t.slice();return o[9]=e[n],o}function ut(t,e,n){const o=t.slice();return o[9]=e[n],o}function dt(t){let e,n,o,i=t[2],c=[];for(let s=0;s<i.length;s+=1)c[s]=pt(at(t,i,s));const r=t=>K(c[t],1,1,(()=>{c[t]=null}));let l=!t[1]&&mt(t);return{c(){for(let t=0;t<c.length;t+=1)c[t].c();e=$(),l&&l.c(),n=w()},m(t,i){for(let e=0;e<c.length;e+=1)c[e].m(t,i);v(t,e,i),l&&l.m(t,i),v(t,n,i),o=!0},p(t,o){if(4&o){let n;for(i=t[2],n=0;n<i.length;n+=1){const r=at(t,i,n);c[n]?(c[n].p(r,o),J(c[n],1)):(c[n]=pt(r),c[n].c(),J(c[n],1),c[n].m(e.parentNode,e))}for(Z(),n=i.length;n<c.length;n+=1)r(n);Y()}t[1]?l&&(l.d(1),l=null):l?l.p(t,o):(l=mt(t),l.c(),l.m(n.parentNode,n))},i(t){if(!o){for(let t=0;t<i.length;t+=1)J(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)K(c[e]);o=!1},d(t){_(c,t),t&&g(e),l&&l.d(t),t&&g(n)}}}function ft(t){let e,n,o,i,c=t[2],r=[];for(let a=0;a<c.length;a+=1)r[a]=vt(ut(t,c,a));const l=t=>K(r[t],1,1,(()=>{r[t]=null}));let s=null;return c.length||(s=ht(t)),{c(){e=y("div"),e.textContent="\u041d\u041e\u0412\u042b\u0415 \u041a\u041b\u0418\u041f\u042b",n=$(),o=y("div");for(let t=0;t<r.length;t+=1)r[t].c();s&&s.c(),C(e,"class","imitate-h1"),C(o,"class","video-list")},m(t,c){v(t,e,c),v(t,n,c),v(t,o,c);for(let e=0;e<r.length;e+=1)r[e].m(o,null);s&&s.m(o,null),i=!0},p(t,e){if(4&e){let n;for(c=t[2],n=0;n<c.length;n+=1){const i=ut(t,c,n);r[n]?(r[n].p(i,e),J(r[n],1)):(r[n]=vt(i),r[n].c(),J(r[n],1),r[n].m(o,null))}for(Z(),n=c.length;n<r.length;n+=1)l(n);Y(),c.length?s&&(s.d(1),s=null):s||(s=ht(t),s.c(),s.m(o,null))}},i(t){if(!i){for(let t=0;t<c.length;t+=1)J(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)K(r[e]);i=!1},d(t){t&&g(e),t&&g(n),t&&g(o),_(r,t),s&&s.d()}}}function pt(t){let e,n;return e=new st({props:{video:t[9]}}),{c(){W(e.$$.fragment)},m(t,o){tt(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.video=t[9]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function mt(t){let e,n,o;return{c(){e=y("span"),e.textContent="\u0411\u043e\u043b\u044c\u0448\u0435 \u043a\u043b\u0438\u043f\u043e\u0432",C(e,"class","imitate-link")},m(i,c){v(i,e,c),n||(o=x(e,"click",t[3]),n=!0)},p:i,d(t){t&&g(e),n=!1,o()}}}function ht(t){let e;return{c(){e=b("...loading")},m(t,n){v(t,e,n)},d(t){t&&g(e)}}}function vt(t){let e,n;return e=new st({props:{video:t[9]}}),{c(){W(e.$$.fragment)},m(t,o){tt(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.video=t[9]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function gt(t){let e,n,o,i;const c=[ft,dt],r=[];function l(t,e){return t[0]?1:0}return n=l(t),o=r[n]=c[n](t),{c(){e=y("div"),o.c(),C(e,"class","video-themes")},m(t,o){v(t,e,o),r[n].m(e,null),i=!0},p(t,[i]){let s=n;n=l(t),n===s?r[n].p(t,i):(Z(),K(r[s],1,1,(()=>{r[s]=null})),Y(),o=r[n],o?o.p(t,i):(o=r[n]=c[n](t),o.c()),J(o,1),o.m(e,null))},i(t){i||(J(o),i=!0)},o(t){K(o),i=!1},d(t){t&&g(e),r[n].d()}}}function _t(t,e,n){let{api:o}=e,{collection:i=!1}=e,c=!0,r=[],l=1,s=Object(ct.a)("GET");var a;a=async()=>{console.log("FETCHUYU"),n(2,r=await fetch("/collection/related_videos/"===o?`/collection/related_videos/${u()}/${l}`:o,s).then((t=>(n(1,c=!1),t.json()))).then((t=>(t.length<12&&n(1,c=!0),t))))},M().$$.on_mount.push(a);let u=function(){let t=window.location.pathname.match(/collection\/(.*)/);return t?t[1]:0};return t.$$set=t=>{"api"in t&&n(4,o=t.api),"collection"in t&&n(0,i=t.collection)},[i,c,r,function(){l++;let t=`/collection/related_videos/${u()}/${l}`;const e=Object(ct.a)("GET");fetch(t,e).then((t=>t.json())).then((t=>{0!==t.length?n(2,r=[...r,...t]):n(1,c=!0)}))},o]}var yt=class extends it{constructor(t){super(),ot(this,t,_t,gt,a,{api:4,collection:0})}},bt=o(3);function $t(t){let e,n,o,i,c,r,s,a,u,d,f,p,m,_,b,w,k,E,j,T,O,I,M,B,L,q,D,H,N,P;return{c(){e=y("div"),n=y("div"),o=y("div"),o.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.995 511.995" xml:space="preserve" fill="#999"><path d="M437.126,74.939c-99.826-99.826-262.307-99.826-362.133,0C26.637,123.314,0,187.617,0,256.005\n\t\t\ts26.637,132.691,74.993,181.047c49.923,49.923,115.495,74.874,181.066,74.874s131.144-24.951,181.066-74.874\n\t\t\tC536.951,337.226,536.951,174.784,437.126,74.939z M409.08,409.006c-84.375,84.375-221.667,84.375-306.042,0\n\t\t\tc-40.858-40.858-63.37-95.204-63.37-153.001s22.512-112.143,63.37-153.021c84.375-84.375,221.667-84.355,306.042,0\n\t\t\tC493.435,187.359,493.435,324.651,409.08,409.006z"></path><path d="M341.525,310.827l-56.151-56.071l56.151-56.071c7.735-7.735,7.735-20.29,0.02-28.046\n\t\t\tc-7.755-7.775-20.31-7.755-28.065-0.02l-56.19,56.111l-56.19-56.111c-7.755-7.735-20.31-7.755-28.065,0.02\n\t\t\tc-7.735,7.755-7.735,20.31,0.02,28.046l56.151,56.071l-56.151,56.071c-7.755,7.735-7.755,20.29-0.02,28.046\n\t\t\tc3.868,3.887,8.965,5.811,14.043,5.811s10.155-1.944,14.023-5.792l56.19-56.111l56.19,56.111\n\t\t\tc3.868,3.868,8.945,5.792,14.023,5.792c5.078,0,10.175-1.944,14.043-5.811C349.28,331.117,349.28,318.562,341.525,310.827z"></path></svg>',i=$(),c=y("div"),c.textContent="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",r=$(),s=y("div"),a=y("form"),u=y("div"),d=y("label"),d.textContent="\u0422\u0435\u043c\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",f=$(),p=y("select"),m=y("option"),m.textContent="\u041d\u0435 \u043f\u0440\u043e\u0438\u0433\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f",_=y("option"),_.textContent="\u041d\u0435 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f",b=y("option"),b.textContent="\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0440\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432",w=y("option"),w.textContent="\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0442\u0435\u043a\u0441\u0442\u0435",k=y("option"),k.textContent="\u0415\u0441\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c",E=y("option"),E.textContent="\u041d\u0435 \u043c\u043e\u0433\u0443 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",j=$(),T=y("div"),O=y("label"),O.textContent="\u0421\u0443\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",I=$(),M=y("textarea"),B=$(),L=y("div"),q=y("button"),q.textContent="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",D=$(),H=y("button"),H.textContent="\u041e\u0442\u043c\u0435\u043d\u0430",C(o,"class","modal__close"),C(c,"class","modal__title"),C(d,"for","message_subject"),m.selected="selected",m.__value="0",m.value=m.__value,_.__value="1",_.value=_.__value,b.__value="2",b.value=b.__value,w.__value="3",w.value=w.__value,k.__value="4",k.value=k.__value,E.__value="5",E.value=E.__value,C(p,"name","message[subject]"),C(p,"id","message_subject"),C(p,"class","form__input"),void 0===t[0]&&V((()=>t[6].call(p))),C(u,"class","form__input-block"),C(O,"for","message_description"),C(M,"class","form__input"),C(M,"name","message[description]"),C(M,"id","message_description"),C(T,"class","form__input-block"),C(q,"type","button"),C(q,"class","button button_default"),C(H,"type","button"),C(H,"class","button"),C(L,"class","form__input-block"),C(a,"action",""),C(a,"id","error-message"),C(s,"class","error-form"),C(n,"class","modal__content"),C(e,"class","modal")},m(l,g){var y;v(l,e,g),h(e,n),h(n,o),h(n,i),h(n,c),h(n,r),h(n,s),h(s,a),h(a,u),h(u,d),h(u,f),h(u,p),h(p,m),h(p,_),h(p,b),h(p,w),h(p,k),h(p,E),A(p,t[0]),h(a,j),h(a,T),h(T,O),h(T,I),h(T,M),S(M,t[3]),h(a,B),h(a,L),h(L,q),h(L,D),h(L,H),N||(P=[x(o,"click",t[4]),x(p,"change",t[6]),x(M,"input",t[7]),x(q,"click",t[5]),x(H,"click",t[4]),x(e,"click",(y=t[4],function(t){t.target===this&&y.call(this,t)}))],N=!0)},p(t,e){1&e&&A(p,t[0]),8&e&&S(M,t[3])},d(t){t&&g(e),N=!1,l(P)}}}function wt(t){let e,n,o,i;return{c(){e=y("span"),n=b(t[1]),T(e,"cursor","pointer")},m(c,r){v(c,e,r),h(e,n),o||(i=x(e,"click",k(t[4])),o=!0)},p(t,e){2&e&&j(n,t[1])},d(t){t&&g(e),o=!1,i()}}}function xt(t){let e;function n(t,e){return t[2]?$t:wt}let o=n(t),c=o(t);return{c(){c.c(),e=w()},m(t,n){c.m(t,n),v(t,e,n)},p(t,[i]){o===(o=n(t))&&c?c.p(t,i):(c.d(1),c=o(t),c&&(c.c(),c.m(e.parentNode,e)))},i:i,o:i,d(t){c.d(t),t&&g(e)}}}function kt(t,e,n){let{text:o}=e,{defaultValue:i}=e;let c,r=!1;function l(){n(2,r=!r)}return t.$$set=t=>{"text"in t&&n(1,o=t.text),"defaultValue"in t&&n(0,i=t.defaultValue)},[i,o,r,c,l,function(){let t=new FormData;t.append("message[subject]",i),t.append("message[description]",c),t.append("message[context_protect]",""),t.append("message[context_url]",window.location.href);let e={method:"POST",headers:{"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:t};fetch("/messages",e).then((t=>{if(t.ok)return t.json()})).then((t=>{new bt.a(t.message,t.state).animate()})).catch((t=>{console.error(t)})).finally((()=>{n(3,c=""),l()}))},function(){i=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,i)},function(){c=this.value,n(3,c)}]}var Ct=class extends it{constructor(t){super(),ot(this,t,kt,xt,a,{text:1,defaultValue:0})}},Et=o(1),jt=o(7);function St(t){let e;return{c(){e=y("div"),e.textContent="\u0422\u0435\u043a\u0441\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e!",C(e,"class","lyric__content")},m(t,n){v(t,e,n)},p:i,d(t){t&&g(e)}}}function Tt(t){let e,n,o,i,c,r,l=t[1]&&At(t);return{c(){e=y("div"),n=y("span"),n.innerHTML='<svg class="plus plus_song" width="18" height="18" viewBox="0 0 18 18" xmlns="https://www.w3.org/2000/svg" fill="#A83783"><path class="plus__path" fill-rule="evenodd" clip-rule="evenodd" d="M10 0.999854C10 0.444946 9.55229 0 9 0C8.44386 0 8 0.44765 8 0.999854V8H0.999854C0.444946 8 0 8.44771 0 9C0 9.55614 0.44765 10 0.999854 10H8V17.0001C8 17.5551 8.44771 18 9 18C9.55614 18 10 17.5524 10 17.0001V10H17.0001C17.5551 10 18 9.55229 18 9C18 8.44386 17.5524 8 17.0001 8H10V0.999854Z"></path></svg>\n        \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043f\u0435\u0441\u043d\u0438',o=$(),l&&l.c(),i=w(),C(n,"class","lyric__link lyric__link_add"),C(e,"class","lyric__panel")},m(s,a){v(s,e,a),h(e,n),v(s,o,a),l&&l.m(s,a),v(s,i,a),c||(r=x(n,"click",t[5]),c=!0)},p(t,e){t[1]?l?l.p(t,e):(l=At(t),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(t){t&&g(e),t&&g(o),l&&l.d(t),t&&g(i),c=!1,r()}}}function At(t){let e,n,o,i,c,r,s,a,u,d,f;return{c(){e=y("div"),n=y("h2"),o=b("\u0422\u0435\u043a\u0441\u0442 \u043f\u0435\u0441\u043d\u0438 "),i=b(t[0]),c=$(),r=y("form"),s=y("textarea"),a=$(),u=y("button"),u.textContent="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",C(n,"class","lyric__title lyric__title_h2"),C(s,"name",""),C(s,"id",""),C(s,"cols","30"),C(s,"rows","10"),C(s,"class","lyric__textarea"),C(u,"type","button"),C(u,"class","btn btn-sm btn-success"),C(r,"action",""),C(e,"class","lyric__content")},m(l,p){v(l,e,p),h(e,n),h(n,o),h(n,i),h(e,c),h(e,r),h(r,s),S(s,t[2]),h(r,a),h(r,u),d||(f=[x(s,"input",t[7]),x(u,"click",k(t[4]))],d=!0)},p(t,e){1&e&&j(i,t[0]),4&e&&S(s,t[2])},d(t){t&&g(e),d=!1,l(f)}}}function Ot(t){let e;function n(t,e){return t[3]?St:Tt}let o=n(t),c=o(t);return{c(){c.c(),e=w()},m(t,n){c.m(t,n),v(t,e,n)},p(t,[i]){o===(o=n(t))&&c?c.p(t,i):(c.d(1),c=o(t),c&&(c.c(),c.m(e.parentNode,e)))},i:i,o:i,d(t){c.d(t),t&&g(e)}}}function It(t,n,o){let{titleData:i}=n,{songID:c}=n,r=!1,l="",s=!1;function a(){o(1,r=!r)}return t.$$set=t=>{"titleData"in t&&o(0,i=t.titleData),"songID"in t&&o(6,c=t.songID)},[i,r,l,s,function(){let t=new FormData;t.set("say_friend",""),t.set("lyric[content]",l);let n={method:"POST",headers:{"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:t};fetch("/lyrics?song_id="+c,n).then((t=>{if(t.ok)return t.json()})).then((t=>{"success"==t.state&&o(3,s=!0),new SuccessAnimation(t.message,t.state).animate()})).catch((t=>{console.error(e)})).finally((()=>{if(a(),"true"===Object(Et.a)("access_reg")&&"true"!==Object(Et.a)("logged_in")){const t="\u041c\u044b \u0440\u0430\u0434\u044b, \u0447\u0442\u043e \u0432\u044b \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442\u0435 \u043d\u0430\u043c \u0441\u0442\u0430\u0442\u044c \u043b\u0443\u0447\u0448\u0435. \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0438 \u0432\u0430\u0448\u0438 \u0442\u0440\u0443\u0434\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u043d\u0435\u0437\u0430\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u043c\u0438.";Object(jt.b)(t)}}))},a,c,function(){l=this.value,o(2,l)}]}var Mt=class extends it{constructor(t){super(),ot(this,t,It,Ot,a,{titleData:0,songID:6})}};document.addEventListener("turbolinks:load",(function(){var t=document.getElementById("videos-list-main");t&&new yt({target:t,props:{api:"/api/v1/web/videos"}});var e=document.getElementById("videos-list");e&&new yt({target:e,props:{api:"/collection/related_videos/",collection:!0}});var n=document.getElementById("video-adv42");if(n&&new st({target:n,props:{video:{video_id:"t4mUpNhrdH4"}}}),document.getElementById("modal")){var o=document.getElementById("modal"),i=o.dataset.text,c=o.dataset.value;new Ct({target:document.getElementById("modal"),props:{text:i,defaultValue:c}})}if(document.getElementById("add-lyric-text")){var r=document.getElementById("add-lyric-text").dataset.title,l=document.getElementById("add-lyric-text").dataset.id;new Mt({target:document.getElementById("add-lyric-text"),props:{titleData:r,songID:l}})}}))},3:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return c}));var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";o(this,t),this.text=e,this.type=n,this.render()}var e,n,c;return e=t,(n=[{key:"animate",value:function(){var t=document.querySelector(".containerAnim_hidden"),e=t.querySelector("svg"),n="animate";"success"==this.type?t.classList.remove("containerAnim_hidden"):"error"==this.type&&(t.classList.add("containerAnim","containerAnim_error"),t.classList.remove("containerAnim_hidden")),e.classList.contains(n)||(e.classList.add(n),setTimeout((function(){e.classList.remove(n)}),1700))}},{key:"render",value:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("fill","transparent"),o.setAttribute("stroke","#fff"),e.classList.add("containerText"),e.innerText=this.text,t.classList.add("containerAnim"),t.classList.add("containerAnim_hidden"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttributeNS(null,"viewbox","0 0 48 48"),"success"==this.type?o.setAttribute("d","M 18 32.34 l -8.34 -8.34 -2.83 2.83 11.17 11.17 24 -24 -2.83 -2.83 z"):"error"==this.type&&o.setAttribute("d","M 9 19 h 30 v 10 h -30 Z"),n.appendChild(o),t.appendChild(n),t.appendChild(e),document.querySelector("body").appendChild(t),setTimeout((function(){t.remove()}),5e3)}}])&&i(e.prototype,n),c&&i(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}()},7:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var o=n(1);function i(){var t=void 0;Object(o.a)("access_reg")&&!Object(o.a)("logged_in")&&(Object(o.a)("s_declined")||(t=document.getElementById("slider-panel"))&&(t.style.display="block")),"/users/sign_up"!=document.location.pathname&&setTimeout(i,5e3);var e=document.querySelector("#close-slider-panel"),n=document.querySelector(".slider-no-btn");e&&(e.onclick=function(){t=document.getElementById("slider-panel"),Object(o.b)("s_declined",!0,{expires:1,path:"/"}),t.style.display="none"},n.onclick=function(){t=document.getElementById("slider-panel"),Object(o.b)("s_declined",!0,{expires:1,path:"/"}),t.style.display="none"})}function c(t){document.querySelector("#slider-panel .slider-text").innerHTML="<div classs='lider-text'>".concat(t,"</div>"),document.querySelector("#slider-panel").style.display="block"}}});